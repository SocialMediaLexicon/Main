{% extends "social_app/base.html" %}

{% block title %}User profile{% endblock %}

{% block content %}

<div class="col-md-8 m-auto">

    <div class="content-section">
        
        <div class="account-img-container">
            <div class="img-cont">
                <img class="rounded-circle account-img mx-auto d-block" src="{{user.profile.profile_pic.url}}" alt="image">
                
            </div>
        </div>
        
		<hr tyle="height:3px;border-width:0;color:gray;background-color:gray">

        <div class="card-body">
            
            <h4 class="card-title text-center">{{user.first_name}} {{user.last_name}} [{{user.username}}]</h4>

			<div class="text-center">
				{% if object.user != user %}
					{% if follow %}
						<form action="{% url 'follow-unfollow-view' %}" method='POST'>
							{% csrf_token %}
							<input type="hidden" name="profile_pk" value={{object.id}}>
							<button type="submit" class="btn btn-danger mb-2 w-50">Unfollow</button>
						</form>
					{% else %}
						<form action="{% url 'follow-unfollow-view' %}" method='POST'>
							{% csrf_token %}
							<input type="hidden" name="profile_pk" value={{object.id}}>
							<button type="submit" class="btn btn-primary mb-2 w-50">Follow</button>
						</form>
					{% endif %}
				{% endif %}

			</div>
        	<hr>

			<div class="m-t-10 p-15 text-center">
				<div class="row">
					<div class="col">
						<span class="h6">Posts</span>
						<p><a class="mr-2" href="{% url 'user-posts' object.user %}">{{object.profile_posts.count}}</a></p>
					</div>
				
					<div class="col">
						<span class="h6">Followers</span>
						<p style="cursor:pointer; color: blue;" data-contents="{{object.user.following.all}}" data-title="Followers" title="Followers">{{object.user.following.count}}</p>
					</div>
					<div class="col">
						<span class="h6">Following</span>
						<p style="cursor:pointer; color: blue;"  data-contents="{{object.user.profile.following.all}}" data-title="Following" title="Following">{{object.user.profile.following.count}}</p>
					</div>
				</div>
			</div>
    	</div>
	</div>
</div>
<br>


<br>







{% endblock %}

{% block script %}

	
{% endblock %}